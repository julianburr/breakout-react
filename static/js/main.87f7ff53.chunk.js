(window["webpackJsonpbreakout-react"]=window["webpackJsonpbreakout-react"]||[]).push([[0],{17:function(e,t,r){e.exports=r(29)},29:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),i=r(6),l=r.n(i),c=r(1),o=r(16),d=r(4),s=r.n(d),f=35,u=61,p=10,b=4,v=3,y=1e4,w=1e4;var O=function(){var e=[],t=Object(c.c)(function(e){return e.score}),r=Object(c.c)(function(e){return e.lives}),i=Object(c.c)(function(e){return e.status}),l=Object(c.c)(function(e){return e.paddle}),d=Object(c.c)(function(e){return e.ball}),p=Object(c.c)(function(e){return e.activeEffects}),b=Object(c.c)(function(e){return e.spawnedEffect});"waiting"===i?s.a.set(e,[f-2,l.x+2],"@"):"active"===i&&s.a.set(e,[Math.round(d.y),Math.round(d.x)],"@");for(var v=0;v<l.width;v++)s.a.set(e,[f-1,l.x+v],"\u2580");Object(c.c)(function(e){return e.bricks}).forEach(function(t){for(var r=t.y;r<t.y+t.height;r++)for(var n=t.x;n<t.x+t.width;n++)"hit"!==t.status&&s.a.set(e,[r,n],"\u2588")}),b&&s.a.set(e,[f-1,b.x],a.a.createElement("span",{style:{fontWeight:900}},"?"));var y=Object(c.b)();Object(n.useEffect)(function(){var e=setInterval(function(){return y({type:"@@game/FRAME"})},16),t=function(e){switch(e.code){case"ArrowLeft":y({type:"@@key/LEFT"});break;case"ArrowRight":y({type:"@@key/RIGHT"});break;case"Space":y({type:"@@key/SPACE"})}};return window.addEventListener("keydown",t),function(){clearInterval(e),window.removeEventListener("keydown",t)}},[]);var w=p.find(function(e){return"rotate_game"===e.id}),O=Date.now();return a.a.createElement("div",{style:{display:"flex",fontFamily:"Monaco, monospace",lineHeight:"1"}},a.a.createElement("div",{style:{display:"flex",flexDirection:"column",background:"rgba(0, 0, 0, .05)",float:"left"}},Array.from(new Array(f)).map(function(t,r){return a.a.createElement("div",{key:"row-".concat(r),style:{display:"flex",flexDirection:"row"}},Array.from(new Array(u)).map(function(t,n){return w?s.a.get(e,[f-1-r,u-1-n],"\xb7"):s.a.get(e,[r,n],"\xb7")}))})),a.a.createElement("div",null,Array.from(new Array(18)).map(function(){return a.a.createElement("span",null,"\xb7")}),a.a.createElement("br",null),"\xa0",a.a.createElement("br",null),"Score: ",t,a.a.createElement("br",null),"Lives: ",r,a.a.createElement("br",null),"\xa0",a.a.createElement("br",null),"gameover"===i?"Game Over":p.map(function(e){var t=e.duration===1/0?null:e.duration-(O-e.time),r=e.duration===1/0||0===e.duration?18:Math.floor(t/e.duration*18),i=Object(o.a)(e.title).slice(0);return a.a.createElement(n.Fragment,null,Array.from(new Array(18)).map(function(t,n){var l=n<=r;return a.a.createElement("span",{style:{background:l?e.positive?"green":"red":"none",color:l?"white":"black"}},i[n]||"\xb7")}),a.a.createElement("br",null))})))},h=r(2),m=r(7);function E(){for(var e=[],t=0;t<v;t++)for(var r=0;r<b;r++)e.push({x:13*r+6,y:2*t+1,width:10,height:1,score:10});return e}var g=r(9);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(r,!0).forEach(function(t){Object(h.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var P=[{id:"massive_paddle",positive:!0,title:"Massive Paddle",duration:1/0},{id:"tiny_paddle",positive:!1,title:"Tiny Paddle",duration:1/0},{id:"bullet_ball",positive:!0,title:"Bullet Ball",duration:15e3},{id:"metal_bricks",positive:!1,title:"Metal Bricks",duration:15e3},{id:"extra_life",positive:!0,title:"Extra Life",duration:0},{id:"lost_life",positive:!1,title:"Lost Life",duration:0},{id:"rotate_game",positive:!1,title:"Rotate Game",duration:2e4},{id:"speed_ball",positive:!1,title:"Speed Ball",duration:1/0},{id:"ghost_bricks",positive:!1,title:"Ghost Bricks",duration:15e3}];function k(e,t){switch(t.id){case"tiny_paddle":return x({},e,{paddle:x({},e.paddle,{width:e.paddle.width+2})});case"massive_paddle":return x({},e,{paddle:x({},e.paddle,{width:e.paddle.width-2})});case"speed_ball":return x({},e,{ball:x({},e.ball,{speed:e.ball.speed/1.5,vx:e.ball.vx/1.5,vy:e.ball.vy/1.5})});default:return e}}function D(e){if("active"!==e.status)return e.activeEffects.length?(e.activeEffects.forEach(function(t){e=k(e,t)}),x({},e,{activeEffects:[],spawnedEffect:null,lastEffectSpawnTime:null})):e;var t=Date.now();if(e.activeEffects.length&&e.activeEffects.forEach(function(r){var n=0===r.duration?3e3:r.duration;t-r.time>n&&(e=x({},e=k(e,r),{activeEffects:e.activeEffects.filter(function(e){return e!==r})}))}),e.spawnedEffect)return t-e.spawnedEffect.time>w?x({},e,{spawnedEffect:null,lastEffectSpawnTime:t}):e.spawnedEffect.x>=e.paddle.x&&e.spawnedEffect.x<=e.paddle.x+e.paddle.width?(e=function(e,t){switch(t.id){case"extra_life":return x({},e,{lives:e.lives+1});case"lost_life":return x({},e,{lives:e.lives-1});case"tiny_paddle":return x({},e,{paddle:x({},e.paddle,{width:e.paddle.width-2})});case"massive_paddle":return x({},e,{paddle:x({},e.paddle,{width:e.paddle.width+2})});case"speed_ball":return x({},e,{ball:x({},e.ball,{speed:1.5*e.ball.speed,vx:1.5*e.ball.vx,vy:1.5*e.ball.vy})});default:return e}}(e,e.spawnedEffect),x({},e,{spawnedEffect:null,lastEffectSpawnTime:t,activeEffects:[].concat(Object(g.a)(e.activeEffects),[x({},e.spawnedEffect,{time:t})])})):e;if(!e.lastEffectSpawnTime)return x({},e,{lastEffectSpawnTime:Date.now()});if(t-e.lastEffectSpawnTime>y){var r=y+Math.floor(Math.random()*y);if(t-e.lastEffectSpawnTime>r){for(var n,a=P.filter(function(t){return!e.activeEffects.find(function(e){return e.id===t.id})}),i=Math.floor(Math.random()*(a.length-1));!n||n>=e.paddle.x-2&&n<=e.paddle.x+e.paddle.width+2;)n=Math.floor(Math.random()*(u-1));return x({},e,{spawnedEffect:x({},a[i],{time:t,x:n})})}}return e}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(r,!0).forEach(function(t){Object(h.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _(e){return"left"===e.paddle.direction?M({},e,{paddle:M({},e.paddle,{x:e.paddle.x>0?e.paddle.x-1:0,direction:null})}):"right"===e.paddle.direction?M({},e,{paddle:M({},e.paddle,{x:e.paddle.x<u-e.paddle.width?e.paddle.x+1:u-e.paddle.width,direction:null})}):e}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(r,!0).forEach(function(t){Object(h.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function L(e){if("active"!==e.status)return e;var t=e.status,r=e.lives,n=e.score,a=e.ball.x+e.ball.vx/p,i=e.ball.vx;i>0?a>u-1&&(a=u-1+(i=-i)/p):a<0&&(a=0+(i=-i)/p);var l=e.ball.y+e.ball.vy/p,c=e.ball.vy;if(c>0){if(l>f-1)c=0,i=0,l=f,t="waiting",r-=1;else if(Math.round(l)===f-1&&a>=e.paddle.x&&a<=e.paddle.x+e.paddle.width){var o=e.paddle.x+(e.paddle.width-1)/2-Math.round(a);Math.abs(o)>0&&(i=-e.ball.speed*o*.2),c=Math.sqrt(Math.pow(e.ball.speed,2)-Math.pow(i,2))*(c<0?1:-1),l=e.ball.y+c/p,a=e.ball.x+i/p}}else l<0&&(c=-c,l=e.ball.y+c/p,a=e.ball.x+i/p);var d=e.bricks,s=d.findIndex(function(e){return a>=e.x&&a<e.x+e.width&&l>=e.y&&l<e.y+e.height&&"hit"!==e.status});if(-1!==s&&!e.activeEffects.find(function(e){return"ghost_bricks"===e.id})){var b=e.activeEffects.find(function(e){return"bullet_ball"===e.id});b||(c=-c,l=e.ball.y+c/p,a=e.ball.x+i/p),e.activeEffects.find(function(e){return"metal_bricks"===e.id})&&!b||((d=Object(g.a)(e.bricks))[s].status="hit",n+=d[s].score)}return d.find(function(e){return"hit"!==e.status})||e.ball.y>2*(v+1)&&(d=E()),T({},e,{bricks:d,lives:r,score:n,status:t,ball:T({},e.ball,{x:a,vx:i,y:l,vy:c})})}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){return e.lives<=0?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(r,!0).forEach(function(t){Object(h.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{status:"gameover",lives:0,paddle:e.paddle}):e}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(r,!0).forEach(function(t){Object(h.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var G={score:0,lives:3,status:"waiting",ball:{x:0,y:0,vx:0,vy:0,speed:.2},paddle:{x:Math.floor(Math.random()*(u-6)),width:5,direction:null},bricks:E(),lastEffectSpawnTime:null,spawnedEffect:null,activeEffects:[]},H=Object(m.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@@key/LEFT":return R({},e,{paddle:R({},e.paddle,{direction:"left"})});case"@@key/RIGHT":return R({},e,{paddle:R({},e.paddle,{direction:"right"})});case"@@key/SPACE":return"gameover"===e.status?G:"waiting"===e.status?R({},e,{status:"active",ball:R({},e.ball,{y:f-2,x:e.paddle.x+2,vy:-e.ball.speed,vx:0})}):e;case"@@game/FRAME":var r=e;r=_(r);for(var n=0;n<p;n++)r=L(r);return r=F(r=D(r));default:return e}});l.a.render(a.a.createElement(c.a,{store:H},a.a.createElement(O,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.87f7ff53.chunk.js.map